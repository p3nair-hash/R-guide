<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Paris Geller's Master Reference</title>
    <link rel="stylesheet" href="style.css">
    <script>
        // SMART NAVIGATION SCRIPT
        function openSection(id) {
            // 1. Close all other sections to keep it clean (Optional - remove this block if you want them to stay open)
            document.querySelectorAll('details').forEach((el) => {
                el.removeAttribute('open');
            });

            // 2. Open the target section
            const target = document.getElementById(id);
            if (target) {
                target.setAttribute('open', '');

                // 3. Scroll to it smoothly
                target.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }
        }
    </script>
    <style>
        /* --- SPECIAL REFERENCE STYLING --- */
        body { max-width: 1000px; } /* Wider reading area */

        /* The Dropdown Header (Clickable) */
        summary {
            background: var(--yale-blue);
            color: white;
            padding: 15px 20px;
            border-radius: 8px;
            margin-top: 30px;
            margin-bottom: 10px;
            font-family: 'Segoe UI', sans-serif;
            border-left: 10px solid var(--autumn-orange);
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            cursor: pointer;
            font-weight: bold;
            font-size: 1.2em;
            list-style: none; /* Hides default triangle */
            transition: background 0.2s;
        }

        summary:hover {
            background: #1a5276; /* Slightly darker blue on hover */
        }

        /* Custom Arrow */
        summary::after {
            content: '+';
            float: right;
            font-weight: bold;
            color: var(--autumn-orange);
        }

        details[open] summary::after {
            content: '-';
        }

        /* The Content Inside */
        .ref-content {
            padding: 10px 5px;
            animation: fadeIn 0.3s ease-in-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .ref-item {
            background: white;
            border: 1px solid #ddd;
            border-left: 5px solid #ccc;
            padding: 25px;
            margin-bottom: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }

        .ref-item h3 {
            color: var(--yale-blue);
            margin-top: 0;
            font-family: 'Consolas', monospace;
            font-size: 1.5em;
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
        }

        .syntax-block {
            background: #282c34;
            color: #abb2bf;
            padding: 15px;
            border-radius: 6px;
            font-family: 'Consolas', monospace;
            margin: 15px 0;
            overflow-x: auto;
        }

        .arg-list {
            background: #f9f9f9;
            padding: 15px;
            border-radius: 6px;
            margin: 15px 0;
        }
        .arg-list li { margin-bottom: 8px; }
        .arg-name { font-family: monospace; font-weight: bold; color: #d35400; }

        .warning-box {
            background: #fff5f5;
            border-left: 5px solid #c0392b;
            padding: 15px;
            color: #c0392b;
            font-style: italic;
            margin-top: 15px;
        }
        .warning-title { font-weight: bold; text-transform: uppercase; font-size: 0.8em; display: block; margin-bottom: 5px; }

        /* REPURPOSED TOC Styling (Buttons) */
        .toc {
            background: #fff8e1;
            padding: 20px;
            border: 2px dashed var(--luke-yellow);
            border-radius: 12px;
            margin-bottom: 50px;
            text-align: center;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
        }

        .toc-btn {
            background: white;
            border: 1px solid var(--coffee-light);
            color: var(--coffee-dark);
            padding: 10px 15px;
            border-radius: 20px; /* Pill shape */
            cursor: pointer;
            font-weight: bold;
            font-size: 0.9em;
            transition: all 0.2s;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .toc-btn:hover {
            background: var(--autumn-orange);
            color: white;
            transform: translateY(-2px);
            border-color: var(--autumn-orange);
        }
    </style>
</head>
<body>
<nav><a href="index.html">&larr; Back to Town</a></nav>
<header>
    <h1>Paris Geller's Master Reference</h1>
    <p>"I have verified this information three times. It is correct. Do not deviate."</p>
</header>

<div class="toc">
    <button class="toc-btn" onclick="openSection('setup')">1. Setup & Import</button>
    <button class="toc-btn" onclick="openSection('basics')">2. Syntax & Objects</button>
    <button class="toc-btn" onclick="openSection('math')">3. Math & Stats</button>
    <button class="toc-btn" onclick="openSection('wrangling')">4. Wrangling</button>
    <button class="toc-btn" onclick="openSection('tidying')">5. Tidying</button>
    <button class="toc-btn" onclick="openSection('viz')">6. Visualization</button>
    <button class="toc-btn" onclick="openSection('testing')">7. Statistical Tests</button>
</div>

<details id="setup">
    <summary>1. Setup & Import</summary>
    <div class="ref-content">
        <div class="ref-item">
            <h3>install.packages() / library()</h3>
            <p><strong>Usage:</strong> The two-step process to get tools (like buying a bulb vs. turning it on).</p>
            <div class="syntax-block">
                install.packages("pkg_name") <span style="color:#7f8c8d"># Run ONCE per computer</span>
                library(pkg_name)            <span style="color:#7f8c8d"># Run EVERY time you restart R</span>
            </div>
            <div class="warning-box">
                <span class="warning-title">Paris's Warning:</span>
                <code>install</code> REQUIRES quotes (<code>"tidyverse"</code>). <code>library</code> does NOT require quotes (<code>tidyverse</code>). Memorize this.
            </div>
        </div>

        <div class="ref-item">
            <h3>read.csv()</h3>
            <p><strong>Usage:</strong> Loads a dataset file into R.</p>
            <div class="syntax-block">my_data <- read.csv("filename.csv")</div>
            <div class="arg-list">
                <strong>Arguments:</strong>
                <ul>
                    <li><span class="arg-name">file</span>: The name of the file in quotes. Must include <code>.csv</code>.</li>
                    <li><span class="arg-name">header</span>: (Optional) <code>TRUE</code> if the first row contains column names.</li>
                </ul>
            </div>
            <div class="warning-box">
                <span class="warning-title">Common Error:</span>
                "File not found"? Check your spelling. Check that the file is in the <strong>same folder</strong> as your R script.
            </div>
        </div>
    </div>
</details>

<details id="basics">
    <summary>2. Syntax & Objects</summary>
    <div class="ref-content">
        <div class="ref-item">
            <h3>&lt;- (Assignment)</h3>
            <p><strong>Usage:</strong> Creates an object (variable) and saves data inside it.</p>
            <div class="syntax-block">name &lt;- value</div>
            <p><strong>Example:</strong> <code>gpa &lt;- 4.0</code></p>
            <div class="warning-box">
                <span class="warning-title">Nuance:</span>
                Keyboard Shortcut: <code>Alt</code> + <code>-</code> (Windows) or <code>Option</code> + <code>-</code> (Mac).
            </div>
        </div>

        <div class="ref-item">
            <h3>c()</h3>
            <p><strong>Usage:</strong> "Combine". Creates a <strong>Vector</strong> (a list of values).</p>
            <div class="syntax-block">my_vector &lt;- c(value1, value2, value3)</div>
            <div class="warning-box">
                <span class="warning-title">Paris's Warning:</span>
                A vector must be <strong>ATOMIC</strong>. That means you cannot mix Numbers and Text. If you try <code>c(1, 2, "three")</code>, R will force them all to be text: <code>"1", "2", "three"</code>.
            </div>
        </div>

        <div class="ref-item">
            <h3>class()</h3>
            <p><strong>Usage:</strong> Checks the data type of an object. Essential for debugging "Argument is not numeric" errors.</p>
            <div class="syntax-block">class(object_name)</div>
            <p><strong>Returns:</strong> <code>"numeric"</code>, <code>"character"</code>, <code>"logical"</code>, or <code>"data.frame"</code>.</p>
        </div>
    </div>
</details>

<details id="math">
    <summary>3. Math & Summary Stats</summary>
    <div class="ref-content">
        <div class="ref-item">
            <h3>mean() / sd() / median()</h3>
            <p><strong>Usage:</strong> Calculates basic statistics of a vector.</p>
            <div class="syntax-block">
                mean(vector, na.rm = FALSE)
                sd(vector)
                max(vector)
            </div>
            <div class="arg-list">
                <strong>Key Argument:</strong>
                <ul>
                    <li><span class="arg-name">na.rm</span>: "NA Remove". If your data has missing values (NA), the result will be NA unless you set this to <code>TRUE</code>.</li>
                </ul>
            </div>
            <div class="warning-box">
                <span class="warning-title">Pro Tip:</span>
                If you get <code>NA</code> as an answer, try <code>mean(data, na.rm = TRUE)</code>.
            </div>
        </div>

        <div class="ref-item">
            <h3>skim()</h3>
            <p><strong>Usage:</strong> (From <code>skimr</code>) The ultimate summary function. Gives Mean, SD, Histograms, and Missing counts for every column.</p>
            <div class="syntax-block">skim(dataframe)</div>
        </div>

        <div class="ref-item">
            <h3>table() / unique()</h3>
            <p><strong>Usage:</strong> Inspecting categorical data.</p>
            <ul>
                <li><code>unique(vec)</code>: Shows a list of unique values (removes duplicates).</li>
                <li><code>table(vec)</code>: Counts how many times each value appears.</li>
            </ul>
        </div>
    </div>
</details>

<details id="wrangling">
    <summary>4. Wrangling (dplyr)</summary>
    <div class="ref-content">
        <div class="ref-item">
            <h3>|&gt; (The Pipe)</h3>
            <p><strong>Usage:</strong> Passes the output of the left side to the function on the right. Reads as "And Then".</p>
            <div class="syntax-block">data |&gt; filter(...) |&gt; select(...)</div>
            <div class="warning-box">
                <span class="warning-title">Note:</span>
                You may also see <code>%&gt;%</code> (the old Magrittr pipe). For this class, they are interchangeable.
            </div>
        </div>

        <div class="ref-item">
            <h3>filter()</h3>
            <p><strong>Usage:</strong> Selects <strong>Rows</strong> based on a condition.</p>
            <div class="syntax-block">data |&gt; filter(column == value)</div>
            <div class="arg-list">
                <strong>Logical Operators:</strong>
                <ul>
                    <li><code>==</code> : Exactly Equal (Two equals signs!)</li>
                    <li><code>!=</code> : Not Equal</li>
                    <li><code>&gt;</code> / <code>&lt;</code> : Greater / Less Than</li>
                    <li><code>|</code> : OR (this OR that)</li>
                    <li><code>&</code> : AND (this AND that)</li>
                </ul>
            </div>
        </div>

        <div class="ref-item">
            <h3>select() vs pull()</h3>
            <p><strong>Usage:</strong> Grabbing columns.</p>
            <div class="syntax-block">
                data |&gt; select(col1, col2)  <span style="color:#7f8c8d"># Returns a TABLE (Data Frame)</span>
                data |&gt; pull(col1)          <span style="color:#7f8c8d"># Returns a VECTOR (List of numbers)</span>
            </div>
            <div class="warning-box">
                <span class="warning-title">Paris's Warning:</span>
                You cannot run a T-Test on a <code>select()</code> result. T-Tests need Vectors. Use <code>pull()</code> or <code>$</code>.
            </div>
        </div>

        <div class="ref-item">
            <h3>mutate()</h3>
            <p><strong>Usage:</strong> Creates a <strong>New Column</strong> based on math from other columns.</p>
            <div class="syntax-block">data |&gt; mutate(new_col = col1 / col2)</div>
            <p><strong>Example:</strong> <code>penguins |> mutate(log_mass = log10(mass_kg))</code></p>
        </div>

        <div class="ref-item">
            <h3>group_by() + summarise()</h3>
            <p><strong>Usage:</strong> The power combo. Splits data into groups, calculates a stat for each, and squashes it into a summary table.</p>
            <div class="syntax-block">
                data |&gt;
                group_by(category_col) |&gt;
                summarise(avg = mean(number_col))
            </div>
        </div>
    </div>
</details>

<details id="tidying">
    <summary>5. Tidying (tidyr)</summary>
    <div class="ref-content">
        <div class="ref-item">
            <h3>pivot_longer()</h3>
            <p><strong>Usage:</strong> Converts "Wide" data (columns like Week1, Week2) into "Long" data (rows). Necessary for ggplot.</p>
            <div class="syntax-block">pivot_longer(data, cols = 2:5, names_to = "Category", values_to = "Value")</div>
            <div class="arg-list">
                <strong>Arguments:</strong>
                <ul>
                    <li><span class="arg-name">cols</span>: Which columns are we melting? (e.g., <code>2:5</code> or <code>c("Mon", "Tue")</code>).</li>
                    <li><span class="arg-name">names_to</span>: Name for the new column that will hold the old headers.</li>
                    <li><span class="arg-name">values_to</span>: Name for the new column that will hold the numbers.</li>
                </ul>
            </div>
        </div>

        <div class="ref-item">
            <h3>pivot_wider()</h3>
            <p><strong>Usage:</strong> The reverse of longer. Spreads rows into columns.</p>
            <div class="syntax-block">pivot_wider(data, names_from = "category_col", values_from = "number_col")</div>
        </div>
    </div>
</details>

<details id="viz">
    <summary>6. Visualization (ggplot2)</summary>
    <div class="ref-content">
        <div class="ref-item">
            <h3>ggplot Template</h3>
            <p><strong>Usage:</strong> The 3-layer cake: Data + Aes + Geom.</p>
            <div class="syntax-block">ggplot(data, aes(x = col1, y = col2)) + geom_POINT()</div>
            <div class="warning-box">
                <span class="warning-title">Critical Error:</span>
                We use the <strong>PLUS SIGN (+)</strong> to add layers in ggplot. Do NOT use the pipe (<code>|&gt;</code>).
            </div>
        </div>

        <div class="ref-item">
            <h3>Geometries (Geoms)</h3>
            <ul>
                <li><code>geom_histogram()</code>: 1 Numeric Var. Shows distribution (Bell curve).</li>
                <li><code>geom_bar()</code>: 1 Categorical Var. Shows counts (How many?).</li>
                <li><code>geom_boxplot()</code>: Numeric vs Categorical. Compares distributions.</li>
                <li><code>geom_point()</code>: Numeric vs Numeric. Scatterplot.</li>
            </ul>
        </div>

        <div class="ref-item">
            <h3>aes() Nuances</h3>
            <p><strong>Usage:</strong> Mapping data to visuals.</p>
            <div class="arg-list">
                <ul>
                    <li><span class="arg-name">color</span>: Changes the OUTLINE (dots, lines).</li>
                    <li><span class="arg-name">fill</span>: Changes the INSIDE (bars, boxplots, histograms).</li>
                </ul>
            </div>
        </div>

        <div class="ref-item">
            <h3>Polishing (Themes & Facets)</h3>
            <ul>
                <li><code>+ theme_classic()</code>: Removes the grey background.</li>
                <li><code>+ labs(title="...", x="...", y="...")</code>: Adds labels.</li>
                <li><code>+ facet_wrap(~ column)</code>: Splits the graph into multiple mini-graphs.</li>
            </ul>
        </div>
    </div>
</details>

<details id="testing">
    <summary>7. Statistical Tests</summary>
    <div class="ref-content">
        <div class="ref-item">
            <h3>ks.test()</h3>
            <p><strong>Usage:</strong> Kolmogorov-Smirnov Test. Checks for <strong>Normality</strong>.</p>
            <div class="syntax-block">ks.test(x = vector, y = "pnorm", mean = mean(vec), sd = sd(vec))</div>
            <p><strong>Interpretation:</strong> If P < 0.05, data is NOT Normal (Reject Null). If P > 0.05, data IS Normal.</p>
        </div>

        <div class="ref-item">
            <h3>t.test() (3 Flavors)</h3>
            <p><strong>1. One-Sample:</strong> Compare one group to a specific number.</p>
            <div class="syntax-block">t.test(vector, mu = 140)</div>

            <p style="margin-top:20px;"><strong>2. Paired:</strong> Compare two measurements of the SAME subject.</p>
            <div class="syntax-block">t.test(vec_A, vec_B, paired = TRUE)</div>
            <p class="nuance-note"><strong>Critical:</strong> Forget <code>paired=TRUE</code> and the result is wrong.</p>

            <p style="margin-top:20px;"><strong>3. Unpaired:</strong> Compare two INDEPENDENT groups.</p>
            <div class="syntax-block">t.test(Numeric ~ Group, data = df)</div>
            <p class="nuance-note"><strong>Syntax:</strong> Uses the Tilde <code>~</code> (read as "by").</p>
        </div>

        <div class="ref-item">
            <h3>power.t.test()</h3>
            <p><strong>Usage:</strong> Calculate Sample Size (n) OR Power. Leave ONE argument as <code>NULL</code>.</p>
            <div class="syntax-block">power.t.test(n=NULL, delta=diff, sd=std_dev, power=0.8, type="paired")</div>
            <div class="arg-list">
                <ul>
                    <li><span class="arg-name">n</span>: Sample size.</li>
                    <li><span class="arg-name">delta</span>: Effect size (difference you expect).</li>
                    <li><span class="arg-name">power</span>: Probability of finding effect (Standard is 0.8).</li>
                </ul>
            </div>
        </div>
    </div>
</details>

<footer style="text-align: center; margin-top: 80px; color: #8d6e63; font-style: italic; border-top: 2px dashed #ddd; padding-top: 20px;">
    <p>Detailed Reference Guide â€¢ BILD 5</p>
</footer>

</body>
</html>